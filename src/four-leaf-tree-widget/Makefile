COMPONENT_NAME = four-leaf-tree-widget
COMPILED_COMPONENT = build_tmp/$(COMPONENT_NAME).js
UNCOMPILED_COMPONENT = js/$(COMPONENT_NAME).js
AUTHORED_COMPONENT = $(COMPONENT_NAME)-debug.js

.PHONY : clean all

all : $(COMPILED_COMPONENT)

$(COMPILED_COMPONENT) : $(UNCOMPILED_COMPONENT)
	ant all

$(UNCOMPILED_COMPONENT) : $(AUTHORED_COMPONENT)
	sed '/\/\/AUTOMATICALLY-PRUNE/d' $(AUTHORED_COMPONENT) > $(UNCOMPILED_COMPONENT)

clean :
	ant clean
	rm $(UNCOMPILED_COMPONENT)
